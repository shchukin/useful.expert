{"version":3,"sources":["advices/advices.js","knowleges/knowleges.js","principle2/principle2.js","principle8/principle8.js","principles/principles.js","request/request.js","scrollpane/scrollpane.js","socials/socials.js","support-mode/support-mode.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bundler.js","sourcesContent":["$(function () {\r\n  var $advices = $('.advices');\r\n\r\n  if (!$advices.length) return ;\r\n\r\n  var $advicesList = $('.advices__list');\r\n  var $advicesBecomeClient = $('.advices__become-client');\r\n  var $request = $('.request');\r\n  var offset = $advicesList.offset().top + $advicesList.height();\r\n  var offset2 = $request.offset().top - 70;\r\n  var $window = $(window);\r\n  var stiked = 0;\r\n\r\n  function checkStick () {\r\n    offset = $advicesList.offset().top + $advicesList.outerHeight();\r\n    offset2 = $request.offset().top - 70;\r\n\r\n    if ($window.scrollTop() >= offset && $window.scrollTop() < offset2 && stiked !== 1) {\r\n      $advicesBecomeClient.css({\r\n        position: 'fixed',\r\n        top: '0'\r\n      });\r\n      stiked = 1;\r\n    } else if ($window.scrollTop() < offset && stiked !== 0) {\r\n      $advicesBecomeClient.css({\r\n        position: 'static',\r\n        width: '',\r\n        top: '',\r\n        left: ''\r\n      });\r\n      stiked = 0;\r\n    } else if ($window.scrollTop() >= offset2 && stiked !== 2) {\r\n      $advicesBecomeClient.css({\r\n        position: 'absolute',\r\n        left: '0'\r\n      });\r\n      stiked = 2;\r\n    }\r\n\r\n    if (stiked === 1) {\r\n      $advicesBecomeClient.css({\r\n        width: $advices.width() + 'px',\r\n        left: $advicesList.offset().left + 'px'\r\n      });\r\n    } else if (stiked === 2) {\r\n      $advicesBecomeClient.css({\r\n        width: $advices.width() + 'px',\r\n        top: ($request.offset().top - $advicesList.offset().top - 50) + 'px'\r\n      });\r\n    }\r\n  }\r\n\r\n  $window.on('scroll', checkStick).trigger('scroll');\r\n  $window.on('resize', checkStick);\r\n\r\n  //////////\r\n\r\n  function generateClientItem (item) {\r\n    return '<li class=\"advices__item\">' + item.name +\r\n    ',<br/>' + item.company + '</li>';\r\n  }\r\n\r\n  var countClientsOnPage = 5;\r\n  var countClients = window.clientsAdvices.length;\r\n  var countMoreClients = countClients - countClientsOnPage;\r\n\r\n  var clientsForRand = window.clientsAdvices.slice(0);\r\n  var rendItem;\r\n  var randomIndex;\r\n\r\n  for (var i = 0; i < countClientsOnPage; i += 1) {\r\n    randomIndex = parseInt(Math.random() * (countClients - i), 10);\r\n    rendItem = clientsForRand[randomIndex];\r\n    $advicesList.prepend($(generateClientItem(rendItem)));\r\n    clientsForRand.splice(randomIndex, 1);\r\n  }\r\n\r\n  //////////\r\n\r\n  var $scrollToFeedback = $('#scroll-to-feedback');\r\n  var $scrollToRequest = $('#scroll-to-request');\r\n  var $htmlBody = $('html, body');\r\n  var $requestName = $('#request-name');\r\n\r\n  $scrollToFeedback.on('click', function () {\r\n    $htmlBody.animate({\r\n      'scrollTop': $('#feedback').offset().top + 'px'\r\n    }, 400);\r\n  });\r\n\r\n  $scrollToRequest.on('click', function () {\r\n    $htmlBody.animate({\r\n      'scrollTop': ($('#request').offset().top - 25) + 'px'\r\n    }, 400);\r\n\r\n    setTimeout(function () {\r\n      $requestName.focus();\r\n    }, 400);\r\n  });\r\n});\r\n","$(function () {\r\n  if (!document.getElementById('knowleges-section')) {\r\n    return false\r\n  }\r\n\r\n  var $knowlegesContain = $('#knowleges-contain')\r\n  var tileHeights = []\r\n\r\n  function getAdvices (options) {\r\n    return fetchData(ADVICES_API, options)\r\n  }\r\n\r\n  function initialTiles (data) {\r\n    var $tile\r\n\r\n    $('.knowleges__tiles').each(function (index) {\r\n      tileHeights[index] = this.offsetHeight\r\n    })\r\n\r\n    $knowlegesContain.addClass('l-knowleges-contain--initialized')\r\n  }\r\n\r\n  initialTiles()\r\n\r\n  $knowlegesContain.on('click', '.knowleges__tile--more', function () {\r\n    var $link = $(this)\r\n    var $parent = $link.closest('.knowleges__tiles')\r\n\r\n    $parent.css({\r\n      maxHeight: tileHeights[$link.data('index')] + 'px'\r\n    })\r\n    $parent.removeClass('knowleges__tiles--scoped')\r\n  })\r\n})\r\n","$(function () {\r\n  var $principle2Link = $('#principle2-link');\r\n  var $principle7 = $('#principle7');\r\n  var $body = $('html, body');\r\n\r\n  $principle2Link.on('click', function () {\r\n    $body.animate({scrollTop: $principle7.offset().top - 30 + 'px'}, 400);\r\n  });\r\n});\r\n","$(function () {\r\n  var $window = $(window)\r\n  var $tabs = $('.principle8__tab')\r\n  var $screens = $('.principle8__screen')\r\n  var $screensHolder = $('.principle8__screens')\r\n\r\n  if (!$tabs.length) return false\r\n\r\n  setTimeout(function () {\r\n    $screensHolder.css({maxHeight: $screens.eq(0).height() + 'px'})\r\n    $screensHolder.width()\r\n    $screensHolder.addClass('principle8__screens--initialized')\r\n  }, 1000);\r\n\r\n  $tabs.on('click', function () {\r\n    var $tab = $(this)\r\n    var anchor = $tab.data('anchor')\r\n    var $screen = $('#' + anchor)\r\n\r\n    $tabs.removeClass('principle8__tab--active')\r\n    $tab.addClass('principle8__tab--active')\r\n\r\n    $screens.removeClass('principle8__screen--active')\r\n    $screen.addClass('principle8__screen--active')\r\n\r\n    $screensHolder.css({maxHeight: $screen.height() + 'px'})\r\n  });\r\n});\r\n","$(function () {\r\n  var $htmlBody = $('html, body');\r\n  var $elements = $('.principles__item');\r\n\r\n  if (!$elements.length) return ;\r\n\r\n  var $window = $(window);\r\n  var FIRST_LINE = 100;\r\n  var SECOND_LINE = 200;\r\n  var THIRD_LINE = 260;\r\n  var CARD_MARGIN = 60;\r\n  var CARD_MARGIN2 = 10;\r\n  var CARD_SCALE = 1.25;\r\n\r\n  function initialElement () {\r\n    $elements.each(function (index, element) {\r\n      var $element = $(element);\r\n\r\n      $element.data('state', 0);\r\n    });\r\n  }\r\n\r\n  function checkElements () {\r\n    var scrollTop = $window.scrollTop();\r\n    var windowHeight = $window.height();\r\n\r\n    $elements.each(function (index, element) {\r\n      var $element = $(element);\r\n      var $card = $element.find('.principles__card');\r\n      var offset = $element.offset().top;\r\n      var state = $element.data('state');\r\n\r\n      if (\r\n        scrollTop + windowHeight > offset + FIRST_LINE &&\r\n        state !== 1\r\n      ) {\r\n        state = 1;\r\n        $card.addClass('principles__card--placed');\r\n        $card.width();\r\n      }\r\n\r\n      $element.data('state', state);\r\n    });\r\n  }\r\n\r\n  $window.on('resize', checkElements);\r\n  $window.on('scroll', checkElements);\r\n\r\n  /////////////////\r\n\r\n  var $principlesSupport = $('.principles__support');\r\n\r\n  $principlesSupport.on('click', function () {\r\n    $htmlBody.animate({\r\n      'scrollTop': ($('#support-principle').offset().top - 25) + 'px'\r\n    }, 600);\r\n  });\r\n\r\n  /////////////////\r\n\r\n  var $principlesSupport = $('.principles__support');\r\n  var $principles = $('.principles');\r\n  var $supportPrinciple = $('#support-principle');\r\n  var stiked = 0;\r\n\r\n  function checkStick () {\r\n    var scrollTop = $window.scrollTop();\r\n    var principlesOffset = $principles.offset();\r\n    var principlesOffsetTop = principlesOffset.top;\r\n    var principlesOffsetLeft = principlesOffset.left;\r\n    var principlesWidth = $principles.width();\r\n    var windowHeight = $window.height();\r\n    var windowWidth = $window.width();\r\n    var supportPrincipleOffset = $supportPrinciple.offset().top;\r\n    var topPosition = scrollTop + windowHeight;\r\n    var offset = principlesOffsetTop + 45 + 77;\r\n    var offset2 = supportPrincipleOffset - 110;\r\n    var offset3 = offset2 + 100;\r\n\r\n    if (topPosition > offset3 && stiked !== 3) {\r\n      $principlesSupport.css({\r\n        display: 'none'\r\n      });\r\n      stiked = 3;\r\n    } else if (topPosition > offset2 && topPosition <= offset3 && stiked !== 2) {\r\n      $principlesSupport.css({\r\n        display: ''\r\n      });\r\n      stiked = 2;\r\n    } else if (topPosition > offset && topPosition <= offset2 && stiked !== 1) {\r\n      $principlesSupport.css({\r\n        position: 'fixed',\r\n        bottom: '15px',\r\n        top: 'auto',\r\n        display: '',\r\n        right: ''\r\n      });\r\n      stiked = 1;\r\n    } else if (topPosition <= offset && stiked !== 0) {\r\n      $principlesSupport.css({\r\n        position: '',\r\n        bottom: '',\r\n        top: '',\r\n        display: '',\r\n        right: ''\r\n      });\r\n      stiked = 0;\r\n    }\r\n\r\n    if (stiked === 1 || stiked === 2) {\r\n      $principlesSupport.css({\r\n        right: windowWidth - principlesOffsetLeft - principlesWidth + 15 + 'px'\r\n      });\r\n    }\r\n\r\n    if (stiked === 2) {\r\n      $principlesSupport.css({\r\n        bottom: 15 - 100 + offset3 - topPosition + 'px'\r\n      });\r\n    }\r\n  }\r\n\r\n  $window.on('scroll', checkStick).trigger('scroll');\r\n  $window.on('resize', checkStick);\r\n});\r\n","$(function () {\r\n  var $inputs = $('.request__inp, .request__text');\r\n  var $textarea = $('.request__text');\r\n  var $ghost;\r\n\r\n  var $requestForm = $('#request-form');\r\n\r\n  var requestNameIsError = false;\r\n  var $requestNameHolder = $('#request-name-holder');\r\n  var $requestName = $('#request-name');\r\n  var $requestNameLabel = $('#request-name-label');\r\n\r\n  var requestEmailIsError = false;\r\n  var $requestEmailHolder = $('#request-email-holder');\r\n  var $requestEmail = $('#request-email');\r\n  var $requestEmailLabel = $('#request-email-label');\r\n\r\n  var requestDescIsError = false;\r\n  var $requestDescHolder = $('#request-desc-holder');\r\n  var $requestDesc = $('#request-desc');\r\n  var $requestDescLabel = $('#request-desc-label');\r\n\r\n  var $requestSbmHolder = $('#request-sbm-holder');\r\n  var $requestSbm = $('#request_sbm');\r\n\r\n  $inputs.on('change input keypress', function () {\r\n    var $input = $(this);\r\n\r\n    if (this.value.length) {\r\n      $input.addClass('request__inp--not-empty');\r\n    } else {\r\n      $input.removeClass('request__inp--not-empty');\r\n    }\r\n  }).trigger('change');\r\n\r\n  $textarea.parent().append('<div class=\"request__text-ghost\"><span class=\"request__text-ghost-text\"></span></div>');\r\n  $ghost = $('.request__text-ghost');\r\n  $ghostText = $('.request__text-ghost-text');\r\n\r\n  $textarea.on('change input keypress', function () {\r\n    var value = this.value\r\n\r\n    if (value.substr(this.value.length - 1) == '\\n' || value.substr(this.value.length - 1) == '\\r') {\r\n      value += '<br />'\r\n    }\r\n\r\n    $ghostText.html(value);\r\n    $textarea.css({height: $ghost.outerHeight() + 'px'});\r\n  }).trigger('change');\r\n\r\n  function formValidate () {\r\n    if (!$requestEmail.val().length) {\r\n      $requestEmail.focus()\r\n\r\n      if (!requestEmailIsError) {\r\n        $requestEmailHolder.addClass('request__dl--error');\r\n        $requestEmailLabel.text('Введите почту, чтобы мы могли ответить');\r\n        requestEmailIsError = true;\r\n      }\r\n    } else if (!$requestEmail.val().match(/^[^@]+@[^@]{3,}\\.[^@]{2,}$/)) {\r\n      $requestEmail.focus()\r\n\r\n      if (!requestEmailIsError) {\r\n        $requestEmailHolder.addClass('request__dl--error');\r\n        $requestEmailLabel.text('Проверьте адрес электронной почты');\r\n        requestEmailIsError = true;\r\n      }\r\n    }\r\n\r\n    if (!$requestName.val().length) {\r\n      $requestName.focus()\r\n\r\n      if (!requestNameIsError) {\r\n        $requestNameHolder.addClass('request__dl--error');\r\n        $requestNameLabel.text('Введите имя');\r\n        requestNameIsError = true;\r\n      }\r\n    }\r\n\r\n    if (!requestDescIsError && !requestEmailIsError && !requestNameIsError) {\r\n      $requestSbmHolder.addClass('request__dl--sending');\r\n      $requestName.prop('readOnly', true);\r\n      $requestEmail.prop('readOnly', true);\r\n      $requestDesc.prop('readOnly', true);\r\n\r\n      $.ajax({\r\n        url: 'send-email.php',\r\n        method: 'POST',\r\n        data: {\r\n          name: $requestName.val(),\r\n          email: $requestEmail.val(),\r\n          desc: $requestDesc.val()\r\n        },\r\n        dataType: 'json'\r\n      })\r\n      .done(function (response) {\r\n        $requestSbmHolder.addClass('request__dl--done');\r\n        $requestSbmHolder.removeClass('request__dl--sending');\r\n      })\r\n      .fail(function (response, textStatus) {\r\n        $requestSbmHolder.removeClass('request__dl--sending');\r\n        alert('Ошибка: ' + response.status + ' ' + response.statusText);\r\n        $requestName.prop('readOnly', false);\r\n        $requestEmail.prop('readOnly', false);\r\n        $requestDesc.prop('readOnly', false);\r\n      });\r\n    } else {\r\n      $requestSbm.addClass('request__sbm--fail');\r\n      setTimeout(function () {\r\n        $requestSbm.removeClass('request__sbm--fail');\r\n      }, 700);\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  $requestName.on('input change keypress', function () {\r\n    if (requestNameIsError) {\r\n      $requestNameHolder.removeClass('request__dl--error');\r\n      $requestNameLabel.text($requestNameLabel.data('label'));\r\n      requestNameIsError = false;\r\n    }\r\n  });\r\n\r\n  $requestEmail.on('input change keypress', function () {\r\n    if (requestEmailIsError) {\r\n      $requestEmailHolder.removeClass('request__dl--error');\r\n      $requestEmailLabel.text($requestEmailLabel.data('label'));\r\n      requestEmailIsError = false;\r\n    }\r\n  });\r\n\r\n  $requestForm.on('submit', formValidate);\r\n});\r\n","$(function ()\r\n{\r\n  var $scrollpane = $('.scrollpane');\r\n\r\n  if (!$scrollpane.length) return ;\r\n\r\n  $scrollpane.scroller({\r\n    noscrollbar: true,\r\n    leftIfWide: true\r\n  });\r\n\r\n  var $window = $(window);\r\n  var windowHeight = $window.height();\r\n  var scrollpaneWidth = $scrollpane.width();\r\n  var scrollpaneHeight = $scrollpane.height();\r\n  var $scrollpaneSweep = $('.ab_draggable');\r\n  var $imgs = $scrollpaneSweep.find('img');\r\n  var $elements = $scrollpaneSweep.find('*');\r\n  var imgsLength = $imgs.length;\r\n  var scrollpaneSweepWidth = 0;\r\n  var ratio;\r\n  var offset = $scrollpane.offset().top;\r\n  var value = 0;\r\n  var doScroll = true;\r\n\r\n  function checkSizes () {\r\n    windowHeight = $window.height();\r\n    scrollpaneWidth = $scrollpane.width();\r\n    scrollpaneHeight = $scrollpane.height();\r\n    ratio = (windowHeight + scrollpaneHeight) / (scrollpaneSweepWidth - scrollpaneWidth);\r\n    offset = $scrollpane.offset().top;\r\n    checkScroll();\r\n  }\r\n\r\n  function initScollPane() {\r\n    $scrollpane.addClass('scrollpane--initiated');\r\n    scrollpaneSweepWidth = 0;\r\n\r\n    $elements.each(function (index, element) {\r\n      scrollpaneSweepWidth += $(element).width();\r\n    });\r\n\r\n    checkSizes();\r\n\r\n    setTimeout(function () {\r\n      checkSizes();\r\n    }, 50);\r\n  }\r\n\r\n  function checkImgsLoaded() {\r\n    if (!imgsLength) {\r\n      initScollPane();\r\n    }\r\n  }\r\n\r\n  $imgs.each(function (index, img) {\r\n    if (img.complete) {\r\n      imgsLength--;\r\n      checkImgsLoaded();\r\n    }\r\n\r\n    img.onload = function () {\r\n      imgsLength--;\r\n      checkImgsLoaded();\r\n    };\r\n\r\n    img.error = function () {\r\n      imgsLength--;\r\n      checkImgsLoaded();\r\n    };\r\n  });\r\n\r\n  checkImgsLoaded();\r\n\r\n  $window.on('resize', checkSizes).trigger('resize');\r\n\r\n  function checkScroll () {\r\n    if (doScroll) {\r\n      if (ratio < 0.8) {\r\n        ratio = 0.8;\r\n      }\r\n\r\n      value = (($window.scrollTop() + windowHeight - offset) / - ratio) + 120;\r\n      $scrollpaneSweep.css({left: value + 'px'});\r\n    }\r\n  }\r\n\r\n  $scrollpaneSweep.on('click', function () {\r\n    doScroll = false;\r\n  });\r\n\r\n  $scrollpane.mousewheel(function(e, delta, deltaX, deltaY) {\r\n    if (deltaX && !isNaN(deltaX)) {\r\n      doScroll = false;\r\n    }\r\n  });\r\n\r\n  $window.on('scroll', checkScroll);\r\n});\r\n","$(function () {\r\n  var $socials = $('.socials');\r\n\r\n\r\n\r\n  if (!$socials.length) return ;\r\n\r\n  var $window = $(window);\r\n  var $socialsDescUpdateContain = $('.socials__desc-update-contain');\r\n  var $socialsDescText = $('.socials__desc-text');\r\n  var $socialsDesc = $('.socials__desc');\r\n  var countAdvices = window.advices.length;\r\n  var alreadyUsed = [window.advices[0]];\r\n  var cadidates = [];\r\n  var limit = parseInt(countAdvices * 0.5, 10);\r\n  var index = 0\r\n\r\n  if (limit > 3) {\r\n    limit = 3;\r\n  }\r\n\r\n\r\n  function getNewAdvice () {\r\n    var randIndex;\r\n\r\n    if (index == countAdvices) {\r\n      index++\r\n\r\n      return 'Если вы прочитали до этого места, скажите, подарим вам скидку'\r\n    }\r\n\r\n    cadidates.splice(0, cadidates.length);\r\n\r\n    $.each(window.advices, function (index, item) {\r\n      if (!~alreadyUsed.indexOf(item)) {\r\n        cadidates.push(item);\r\n      }\r\n    });\r\n\r\n    randIndex = parseInt(Math.random() * (cadidates.length - 1));\r\n    alreadyUsed.push(cadidates[randIndex]);\r\n\r\n    if (alreadyUsed.length > limit) {\r\n      alreadyUsed.shift();\r\n    }\r\n\r\n    index++\r\n\r\n    return cadidates[randIndex];\r\n  }\r\n\r\n  $window.on('resize', function () {\r\n    $socialsDescUpdateContain.css({\r\n      transform: 'translateX(' + ($socialsDesc.position().left +\r\n      $socialsDescText.width())  + 'px)'\r\n    });\r\n  });\r\n\r\n\tsetTimeout(function () {\r\n\t\t$window.trigger('resize');\r\n\t}, 300)\r\n\r\n\r\n\r\n  $socials.on('click', '.socials__desc-update', function () {\r\n    var $updateBtn = $(this);\r\n    var $newUpdateBtn = $('<span class=\"socials__desc-update socials__desc-update--updating\" tabindex=\"0\"></span>');\r\n    var $newSocialDescText;\r\n    var diff;\r\n\r\n\r\n\r\n\t\tsetTimeout(function () {\r\n    $updateBtnContain = $updateBtn.parent();\r\n\r\n    $socialsDescText.css({width: $socialsDescText.outerWidth() + 'px'});\r\n    $socialsDescText.addClass('socials__desc-text--hidden');\r\n\r\n    $newSocialDescText = $('<span class=\"socials__desc-text socials__desc-text--replace\">');\r\n    $newSocialDescText.html(getNewAdvice());\r\n    $socialsDesc.prepend($newSocialDescText);\r\n\r\n    diff = ($newSocialDescText.width() - $socialsDescText.width()) / 2;\r\n    $socialsDescText.css({left: diff + 'px'});\r\n\r\n\r\n    $updateBtnContain.css({\r\n      transform: 'translateX(' + ($socialsDesc.position().left +\r\n      $newSocialDescText.width()) + 'px)'\r\n    });\r\n\r\n\r\n    $updateBtnContain.addClass('socials__desc-update-contain--updating');\r\n    $updateBtnContain.append($newUpdateBtn);\r\n    $updateBtn.remove();\r\n    $updateBtn.width();\r\n    $newUpdateBtn.addClass('socials__desc-update--updated');\r\n\r\n\t\t}, 200);\r\n\r\n    setTimeout(function () {\r\n      $newSocialDescText.removeClass('socials__desc-text--replace');\r\n      $socialsDescText.remove();\r\n      $socialsDescText = $newSocialDescText;\r\n      $newUpdateBtn.addClass('socials__desc-update--no-animation');\r\n      $newUpdateBtn.removeClass('socials__desc-update--updating');\r\n      $newUpdateBtn.removeClass('socials__desc-update--updated');\r\n      $updateBtnContain.removeClass('socials__desc-update-contain--updating');\r\n      $newUpdateBtn.width();\r\n      $newUpdateBtn.removeClass('socials__desc-update--no-animation');\r\n    }, 500);\r\n  });\r\n});\r\n","$(function () {\r\n  return ;\r\n  var $supportModeIskra = $('.support-mode__iskra');\r\n  var $supportMode = $('.support-mode');\r\n  var $supportModePreviewContain = $('.support-mode__preview-contain');\r\n  var $window = $(window);\r\n  var windowHeight = $window.height();\r\n  var scrollTop = $window.height();\r\n  var mode = 0;\r\n\r\n  function checkIskra () {\r\n    if (mode) return ;\r\n\r\n    scrollTop = $window.scrollTop();\r\n    windowHeight = $window.height();\r\n\r\n    if ($supportMode.offset().top < scrollTop + 260) {\r\n      $supportModeIskra.addClass('support-mode__iskra--off');\r\n      $supportModePreviewContain.addClass('support-mode__preview-contain--off');\r\n      mode = 1;\r\n    }\r\n  }\r\n\r\n  $window.on('resize', checkIskra).trigger('resize');\r\n  $window.on('scroll', checkIskra);\r\n});\r\n"]}